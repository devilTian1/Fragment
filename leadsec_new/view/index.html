<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="../css/common.css" type="text/css" />
        <!--[if IE]>
        <link rel="stylesheet" href="css/ie.css" type="text/css" />
        <![endif]-->
    </head>
    <body>
        <div class="wrapper">
            <!-- HEADER -->
            <div class="header">
            </div>

            <!-- NAV & CONTENT -->
            <div class="content" id="content">
                <div class="secondary">
                    <!-- userinfo -->
                    <div class="userinfo">
                        Welcome,&nbsp;<strong>DavidTian</strong>
                        [<a href="#">Administrator</a>,&nbsp;<a href="#">logout</a>]
                    </div>
                    <!-- leftmenu -->
                    <div id="leftmenu">
                    </div>
                    <!-- switch btn -->
                    <div class="switchpic">
                        <img src="../images/switch_left.gif" title="隐藏左侧导航栏" id="ImgArrow"/>
                    </div>
                </div>
                <!-- content -->
                <div class="primary" id="mainZone">
                    <!-- tabs -->
                    <div class="tabs">
                    </div>
                    <div class="tabinfo">
                        &nbsp;&nbsp;<img src="../images/hi.gif" />&nbsp;
                        <span id="show_text">headline</span>
                    </div>
                    <br class="clearFloat"/>
                    <!-- mainContent -->
                    <div class="mainContent">
                        <div class="table">
                            <div class="column column_20 colTitle_1">
                                名称&nbsp;
                            </div>
                            <div class="column column_80 colTitle_2">
                                内容
                            </div>
                        
                            <br class="clearFloat"/>
                            <div class="column column_20 leftTitle_1">
                                安全隔离网闸序列号&nbsp;
                            </div>
                            <div class="column column_75 secCol">
                                123
                            </div>
                            <br class="clearFloat"/>
                        </div>
                    </div>
                </div>
            </div>
            <!-- FOOTER -->
            <div class="footer">
                <div class="bottom">@ 2010-2020 北京网御星云信息技术有限公司版权所有</div>
            </div>
        </div>
    </body>
</html>

<script type="text/javascript" src="../js/jquery/jquery-1.8.1.min.js"></script>
<script>
    $(document).ready(function() {
        $(".wrapper>.header").load("header.html");
        $("#leftmenu").load("leftmenu.html", function() {
            // fold/unfold level1 of leftmenu
            $("#leftmenu>div:not(.l1)").hide(); // fold all child-menu
            $("#leftmenu>.l1").addClass('l1_close').click(function() {
                var pname = $(this).attr("name");
                var l2Dom = $("#leftmenu>.l2[name='" + pname + "']");
                $("#leftmenu>.l1").not($(this)).removeClass('l1_open').addClass('l1_close');
                $("#leftmenu>.l2").not(l2Dom).slideUp();
                if ( l2Dom.css('display') == 'none' ) {
                    l2Dom.slideDown('slow');
                } else {
                    l2Dom.slideUp('slow');
                }
                $(this).toggleClass('l1_open l1_close');
            });
        });

        // init layout
        $("#leftmenu").height($("#mainZone>.mainContent").innerHeight());
        var secondaryDom = $("#content>.secondary");
        var secondaryWidth = secondaryDom.width();

        var contentWidth = parseInt($("#content").css("width"));
        var mainZoneWidth = contentWidth-secondaryWidth;

        $("#mainZone").css("width", mainZoneWidth + "px");
        // end init layout

        // slide leftmenu div
        var slideWidth = $('#leftmenu').width();
        var arrowImg = $("#ImgArrow");
        var leftArrow = {
            src : "../images/switch_left.gif",
            title : "隐藏左侧导航栏"
        };
        var rightArrow = {
            src : "../images/switch_right.gif",
            title : "显示左侧导航栏"
        }
        arrowImg.click(function() {
            secondaryDom.animate({"left" : "-=" + slideWidth}, 600, function() {
                slideWidth = -slideWidth;
                if ( slideWidth > 0 ) { // close leftmenu
                    arrowImg.attr("src", leftArrow.src).attr("title", leftArrow.title);
                    $("#mainZone").css("width", mainZoneWidth + "px");
                } else { // open leftmenu
                    arrowImg.attr("src", rightArrow.src).attr("title", rightArrow.title);
                    $("#mainZone").css("width", "99%");
                }
            });
            if( $(this).offset().left > 195 ) { // close leftmenu
                var mzWidth = "99%";
            } else { // open leftmenu
                var mzWidth = mainZoneWidth + "px";
            }
            $("#mainZone").animate({"width" : mzWidth}, 600);
        });
        // end toggle leftmenu div

        // tabs
        $("#mainZone>.tabs").load("tabs.html", function() {
            $("#mainZone>.tabs>ul>li").addClass('linkTab').click(function() {
                $(this).toggleClass('visitedTab');
                $("#mainZone>.tabs>ul>li").not($(this)).removeClass('visitedTab');
                var id = $("#mainZone>.tabs>ul>li").index($(this)) + 1;
                showInnerText(id);
            });
        });
       // end tabs
    });
</script>
